(this["webpackJsonpshopify-challenge-movies"]=this["webpackJsonpshopify-challenge-movies"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n.n(i),o=n(7),a=n.n(o),l=(n(14),n(4)),r=n(8),m=n(2),j=(n(15),n(16),function(e,t){var n;for(n=0;n<t.length;n++)if(t[n].imdbID===e.imdbID)return!0;return!1}),d=function(e){var t=e.Title,n=e.Year,s=e.imdbID,o=e.Type,a=e.Poster,l=e.buttonType,r=e.buttonHandler,d=e.nominatedList,b=Object(i.useState)({}),u=Object(m.a)(b,2),h=u[0],f=u[1];return Object(i.useEffect)((function(){!function(e,t){fetch("https://www.omdbapi.com/?i=".concat(e,"&apikey=45ae6804")).then((function(e){return e.json()})).then((function(e){console.log(e),t(e)}))}(s,f)}),[]),Object(c.jsxs)("div",{className:"movieItemContainer",children:[Object(c.jsxs)("div",{className:"imageContainer",children:[Object(c.jsx)("img",{className:"movieImage",src:function(e){return"N/A"===e?"https://cdn4.iconfinder.com/data/icons/basic-flat-ui-extra-set-200-item/76/ui_ux_minimalist_button_video_film_roll-512.png":e}(a),alt:""}),Object(c.jsx)("div",{className:"overlay",children:Object(c.jsx)("p",{className:"detailedInfo",children:h.Plot})})]}),Object(c.jsx)("div",{className:"movieInformation",children:Object(c.jsxs)("h3",{className:"movieTitle",children:[t,Object(c.jsxs)("span",{children:[" (",n,")"]})]})}),Object(c.jsx)("div",{className:"buttonContainer",children:Object(c.jsx)("button",{className:"movieButton",onClick:function(){var e={Title:t,Year:n,imdbID:s,Type:o,Poster:a};"Nominate"===l?(console.log(e),r(e)):"Remove"===l?r(e):console.log("Invalid buttonType for MovieItem")},disabled:!("Nominate"!==l||!j({Title:t,Year:n,imdbID:s,Type:o,Poster:a},d)),children:l})})]})},b=(n(17),function(e){var t=e.handleChange;return Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Seach for movies to nominate...",onChange:function(e){return t(e.target.value)}})})});var u=function(){var e=JSON.parse(window.localStorage.getItem("nominatedList")),t=Object(i.useState)([]),n=Object(m.a)(t,2),s=n[0],o=n[1],a=Object(i.useState)(""),u=Object(m.a)(a,2),h=u[0],f=u[1],O=Object(i.useState)(e||[]),v=Object(m.a)(O,2),g=v[0],p=v[1],x=function(e){if(console.log("Nominating a movie!"),console.log(e),g.length<5&&!j(e,g)){var t=[].concat(Object(r.a)(g),[e]);p(t)}},N=function(e){var t=e.imdbID,n=g.filter((function(e){return!(e.imdbID===t)}));p(n),console.log("Removing a movie from the list of nominations."),console.log(e)};return Object(i.useEffect)((function(){var e,t;t=o,(e=h)&&fetch("https://www.omdbapi.com/?s=".concat(e,"&apikey=45ae6804&type=movie")).then((function(e){return e.json()})).then((function(e){console.log(e),t(e.Search)}))}),[h]),Object(i.useEffect)((function(){window.localStorage.setItem("nominatedList",JSON.stringify(g))}),[g]),Object(c.jsxs)("div",{className:"App",children:[5===g.length?Object(c.jsx)("div",{className:"bannerContainer",children:Object(c.jsx)("p",{className:"banner",children:"5 Nominations Selected! \ud83c\udfc6"})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("div",{className:"AppTitle",children:Object(c.jsx)("h1",{children:"The Shoppies"})}),Object(c.jsx)("div",{children:Object(c.jsx)(b,{handleChange:function(e){f(e)}})}),Object(c.jsxs)("div",{className:"searchedMovies",children:[Object(c.jsxs)("h2",{className:"sectionTitle",children:['Search Results for "',h,'"']}),s&&s.length?Object(c.jsx)("div",{className:"movieList",children:s.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(i.createElement)(d,Object(l.a)(Object(l.a)({},e),{},{key:e.imdbID,buttonType:"Nominate",buttonHandler:x,nominatedList:g})),Object(c.jsx)("div",{className:"spaceBetweenMovies"})]})}))}):Object(c.jsx)(c.Fragment,{})]}),Object(c.jsxs)("div",{className:"nominatedMovies",children:[Object(c.jsxs)("h2",{className:"sectionTitle",children:["Nominated Movies (",g.length,"/5)"]}),g&&g.length?Object(c.jsx)("div",{className:"movieList",children:g.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(i.createElement)(d,Object(l.a)(Object(l.a)({},e),{},{key:e.imdbID,buttonType:"Remove",buttonHandler:N})),Object(c.jsx)("div",{className:"spaceBetweenMovies"})]})}))}):Object(c.jsx)(c.Fragment,{})]})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),s(e),o(e)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(u,{})}),document.getElementById("root")),h()}],[[18,1,2]]]);
//# sourceMappingURL=main.3e398fa6.chunk.js.map